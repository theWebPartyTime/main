# Backend
## API
На текущий момент в приложении используется минимальный набор API путей:


 `/` - Путь для подключения к WebSocket приложения, региструющего пользователя в списке игроков и уведомляющего о глобальных изменениях на сервере независимо от действующей регистрации.
> По умолчанию участвовать в играх и создавать их на основе публичных сценариев можно без регистрации. 


`/extend` - Позволяет загружать пользовательские ресурсы и сценарии на платформу.


`/auth` - По данному пути происходит авторизация на сервере, после чего при обращениях на корневой путь становятся доступны функции загрузки сценариев игр на сервер, сохранения игровой статистики и возможность заходить на сервера только для авторизированных (или заданных) пользователей.


`/join` - Используется для подключения к игровой комнате по её коду, что по сути равносильно оформлению подписки на WebSocket-сообщения этой комнаты.
> В целях безопасности код игры не отображается в URL, так как он приравнивается по уровню безопасности к токену.


`/start` - Применяется для создания PartyFlow на основе сценария, что равносильно отдельному каналу сообщений внутри WebSocket.
> По умолчанию держателем PartyFlow может быть только организатор игры. Когда держателей PartyFlow не остаётся либо истекает его длительность, игровая комната закрывается.

 
`/watch` - Оформляет подписку на особый канал для просмотра PartyFlow. Зритель PartyFlow в отличие от его держателя получает лишь минимально необходимую для отображения текущего состояния игры часть информации (не знает о логике игры). 